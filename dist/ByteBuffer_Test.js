"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Massage_1 = require("./Massage");
const ByteBuffer_1 = require("./ByteBuffer");
const UTF8_1 = require("./UTF8");
const Int24_1 = require("./Int24");
const UInt24_1 = require("./UInt24");
const DataView2_1 = require("./DataView2");
const UTF16_1 = require("./UTF16");
var admin = new Massage_1.Role();
admin.Id = 0;
admin.Name = "Administrator/管理员";
var guest = new Massage_1.Role();
guest.Id = 1;
guest.Name = "guest/游客";
var user = new Massage_1.User();
user.Id = 200;
user.Name = "5156村长";
user.RoleList = new Array();
user.RoleList.push(admin);
user.RoleList.push(guest);
var arrayBuffer = ByteBuffer_1.Buffer.WirteObject(user);
var _user = ByteBuffer_1.Buffer.ReadObject(Massage_1.User, arrayBuffer);
console.info("byteBuffer:" + arrayBuffer.byteLength);
console.info(JSON.stringify(_user));
console.info("json:" + JSON.stringify(user).length);
console.info(JSON.stringify(_user));
var buffer02 = new ArrayBuffer(100);
var str1 = "werksdfksl2356789!@$%^&*()sdfhjkj";
var utf8Length1 = UTF8_1.UTF8.getLength(str1);
var utf16Length1 = UTF16_1.UTF16.getLength(str1);
UTF8_1.UTF8.write(buffer02, 0, str1);
var str = UTF8_1.UTF8.read(buffer02, 0, 33);
var dataView = new DataView(buffer02);
UTF16_1.UTF16.write(dataView, 0, str1);
var str = UTF16_1.UTF16.read(dataView, 0, 66);
var str2 = "#通过配置端口指向部署外包烧烤摊的项目";
var utf8Length2 = UTF8_1.UTF8.getLength(str2);
var utf16Length2 = UTF16_1.UTF16.getLength(str2);
UTF8_1.UTF8.write(buffer0, 0, str2);
var str = UTF8_1.UTF8.read(buffer0, 0, 55);
UTF16_1.UTF16.write(dataView, 0, str2);
var str = UTF16_1.UTF16.read(dataView, 0, 38);
Int24_1.Int24.write(buffer0, 0, 12, true);
var number = Int24_1.Int24.read(buffer0, 0, true);
Int24_1.Int24.write(buffer0, 0, Int24_1.Int24.MaxVlaue + 1, true);
var number = Int24_1.Int24.read(buffer0, 0, true);
Int24_1.Int24.write(buffer0, 0, Int24_1.Int24.MiniValue - 1, true);
var number = Int24_1.Int24.read(buffer0, 0, true);
UInt24_1.UInt24.write(buffer0, 0, 100);
var number = UInt24_1.UInt24.read(buffer0, 0);
UInt24_1.UInt24.write(buffer0, 0, UInt24_1.UInt24.MaxVlaue);
var number = UInt24_1.UInt24.read(buffer0, 0);
UInt24_1.UInt24.write(buffer0, 0, UInt24_1.UInt24.MiniValue);
var number = UInt24_1.UInt24.read(buffer0, 0);
var dataView2 = new DataView2_1.DataView2(buffer0);
dataView2.getUTF8String;
var msg = new Massage_1.ComplexMsg(); //sss
msg.MessageType = Massage_1.ServerMsgType.move;
msg.Address = "深圳";
msg.Bool = false;
msg.Name = "eric";
msg.Id = 1000;
var user = new Massage_1.User();
user.Id = 1;
user.Name = "user";
// user.IdList=[1,2,3,4,5];
msg.User = user;
var user2 = new Massage_1.User();
user2.Id = 2;
user2.Name = "use1";
msg.UserList = [];
msg.UserList.push(user2);
msg.UserList.push(user);
msg.BoolList = [true, false, true, false];
msg.IsVip = true;
msg.IdList = [1, 2, 3, 4];
msg.IdList2 = [1, 2, 3, 4];
var buffer0 = ByteBuffer_1.Buffer.WirteObject(msg);
console.info(buffer0.byteLength);
console.info(JSON.stringify(msg).length);
var msg1 = ByteBuffer_1.Buffer.ReadObject(Massage_1.ComplexMsg, buffer0);
console.info(msg1);
var time1_1 = new Date().getTime();
for (let i = 0; i < 100000; i++) {
    let jsonStr = JSON.stringify(msg);
    let obj = JSON.parse(jsonStr);
}
var time1_2 = new Date().getTime();
console.info("json 耗时间：" + (time1_2 - time1_1));
var time2_1 = new Date().getTime();
for (let i = 0; i < 100000; i++) {
    let bytes = ByteBuffer_1.Buffer.WirteObject(msg);
    let obj = ByteBuffer_1.Buffer.ReadObject(Massage_1.ComplexMsg, bytes);
}
var time2_2 = new Date().getTime();
console.info("byteBuffer 耗时间：" + (time2_2 - time2_1));
console.info("******* ***");
//# sourceMappingURL=ByteBuffer_test.js.map